<script>
	import { onMount } from 'svelte';
	import { goto } from '$app/navigation';
	import { userMgr } from '$lib/store/userData.svelte.js';

	onMount(async () => {
		// âœ… Ensure session is updated
		await userMgr?.fetchUser();

		// âœ… Retrieve previous page from localStorage
		const previousPage = localStorage.getItem('previousPage');
		// console.log("ğŸ”„ Redirecting back to:", previousPage); // Debugging

		// âœ… Clean up (optional)
		localStorage.removeItem('previousPage');

		// âœ… Redirect back or go home (`/`)
		goto(previousPage || '/');
	});
</script>

<div class="flex items-center justify-center h-screen">
	<p class="px-2 text-center">
		ãƒ­ã‚°ã‚¤ãƒ³ã«æˆåŠŸã—ã¾ã—ãŸã€‚<br class="sm:hidden">
		å‰ã®ãƒšãƒ¼ã‚¸ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã—ã¦ã„ã¾ã™â€¦
	</p>
</div>
